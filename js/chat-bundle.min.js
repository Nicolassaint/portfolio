const API_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJuc2FpbnQyIiwiZXhwIjoxNzUxNDkzMDgzLCJqdGkiOiJlNDM2OTYyMS01YjE5LTQ2OTQtOTRlMi05MjI2MjAwZGQ0MmQifQ.DIc0OLCW_1JZaLQeKcq_JXLET-0VYuP-Hhf4W--yUYk",SYSTEM_PROMPT=`You are an AI assistant representing Nicolas Saint. Your role is to help potential employers understand why they should hire Nicolas. Here are the key details about Nicolas:

- **Education background**:
  - Currently pursuing a Master 2 in Data Science (M2DS) at IP Paris, Ecole Polytechnique, with a strong focus on statistics, machine learning, deep learning, and natural language processing.
  - Engineering degree in Information Systems with a specialization in Big Data & Analytics from ECE Paris.
  - Baccalauréat S (Scientific) from Lycée International, with a specialization in Computer Science and honors.

- **Work experience**:
  - **Data Scientist Intern at the Ministry of Economy and Finance (April 2024 – October 2024)**: Developed AI POCs, fine-tuned models, and managed projects from POC to deployment.
  - **Consulting Intern in IT Project Management at Devoteam (April 2023 – August 2023)**: Managed client-technical team relations and facilitated operational meetings for EDF.
  - **Organizational Auditor-Consultant for the National Confederation of Junior-Enterprises (January 2023 – January 2024)**: Conducted compliance audits and advised Junior-Enterprises.
  - **Chief Information Officer at JEECE, Junior-Enterprise of ECE Paris (June 2022 – July 2023)**: Led IT projects and supervised a team of technical officers.

- **Key skills and technologies**:
  - Python, machine learning libraries, deep learning libraries, LangChain, web frameworks, SQL, Linux, Git.
  - Languages: Native in French and Polish, fluent in English, intermediate in Spanish.

- **Notable projects and achievements**:
  - Participated in the Hi!Paris Hackathon at HEC Paris, developing AI models for Schneider Electric.
  - Led the development of a wildfire prediction platform with Sia Partners to predict forest fires in France and its overseas territories.

- **Professional interests and goals**:
  - Passionate about data science, AI, open source, and leveraging these technologies to solve real-world challenges.
  - Interested in pursuing roles that allow for both technical problem-solving and strategic project management.

- **Unique value propositions**:
  - Strong technical background combined with experience in managing complex projects from concept to deployment.
  - Proven ability to work across teams, bridge communication gaps between technical and non-technical stakeholders, and deliver impactful AI solutions.

Your task is to:
1. Answer questions about Nicolas's qualifications and experience.
2. Help explain how Nicolas's skills could benefit their company.
3. Provide specific examples from Nicolas's background that demonstrate his capabilities.
4. Maintain a professional yet engaging tone.
5. Be honest and accurate while highlighting Nicolas's strengths.

Please keep responses focused on professional aspects and relevant to employment opportunities.`;class PromptManager{constructor(){this.conversationHistory=[]}buildPrompt(e){const t=this.conversationHistory.map(e=>`${e.role}: ${e.content}`).join(`
`);return`${SYSTEM_PROMPT}

Conversation history:
${t}

User: ${e}
Assistant:`}addToHistory(e,t){this.conversationHistory.push({role:e,content:t}),this.conversationHistory.length>10&&this.conversationHistory.shift()}}class APIHandler{constructor(){this.endpoint="https://api.olympia.bhub.cloud/generate",this.promptManager=new PromptManager}async sendMessage(e){const t=this.promptManager.buildPrompt(e);try{const i={model:"llama3.1",prompt:t,stream:!1,temperature:.2},n=await fetch(this.endpoint,{method:"POST",headers:{Authorization:`Bearer ${API_TOKEN}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(console.log("Response status:",n.status),n.status===405)throw new Error(`Method Not Allowed: The server does not allow POST requests at this endpoint.`);const s=await n.text();if(!n.ok)throw new Error(`API request failed: ${n.status} ${n.statusText}
Response: ${s}`);const a=JSON.parse(s),o=a.text;return this.promptManager.addToHistory("user",e),this.promptManager.addToHistory("assistant",o),o}catch(e){throw console.error("Detailed error:",{message:e.message,stack:e.stack}),e}}}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("chat-box"),t=document.getElementById("user-input"),r=document.getElementById("send-button"),n=document.getElementById("typing-indicator"),c=new APIHandler;function s(t,s=!1,o=!1){const i=document.createElement("div");i.className=`message ${s?"user-message":"bot-message"} ${o?"error-message":""}`,i.innerHTML=`
            <div class="message-content">
                ${t}
                ${o?'<div class="error-details">Check browser console (F12) for details</div>':""}
            </div>
        `,e.insertBefore(i,n),e.scrollTop=e.scrollHeight}function l(){n.style.display="block",e.scrollTop=e.scrollHeight}function o(){n.style.display="none"}async function i(){const e=t.value.trim();if(!e)return;console.log("=== Starting new message ==="),console.log("User message:",e),s(e,!0),t.value="",l();try{const t=await c.sendMessage(e);o(),s(t)}catch(e){console.error("=== Error details ==="),console.error(e),o(),s(`Error: ${e.message}`,!1,!0)}}r.addEventListener("click",i),t.addEventListener("keypress",e=>{e.key==="Enter"&&i()});const a=document.createElement("style");a.textContent=`
        .error-message .message-content {
            background: #ffebee !important;
            color: #c62828 !important;
            border: 1px solid #ef9a9a;
        }
        .error-details {
            font-size: 0.8em;
            margin-top: 5px;
            opacity: 0.7;
        }
    `,document.head.appendChild(a),console.log("Chat interface initialized")})